<%= render layout: 'webring/shared/container', locals: {
  title: 'Webring Members',
  description: 'Manage your webring community',
  back_path: nil
} do %>
  <div class="flex min-h-screen items-start justify-center">
    <div class="w-full max-w-4xl">
      <div class="mb-6">
        <%= link_to 'New Member', new_member_path, class: 'btn btn-primary' %>
      </div>

      <div class="space-y-4">
        <% @members.each do |member| %>
          <div class="border border-black border-[3px] bg-white p-6"
               x-data="{ loading: false }">
            <div class="flex items-center justify-between">
              <div class="flex-1">
                <h3 class="text-lg font-semibold mb-2"><%= member.name %></h3>
                <%= link_to member.url, member.url,
                    target: '_blank',
                    class: 'text-gray-600 hover:text-black transition-colors font-medium' %>
                <p class="text-sm text-gray-500 mt-2">
                  Created: <%= member.created_at.strftime('%b %d, %H:%M') %>
                </p>
              </div>

              <div class="flex space-x-2 ml-6">
                <%= link_to 'View', member_path(member),
                    class: 'btn btn-primary',
                    x_data: '',
                    x_bind_disabled: 'loading',
                    x_bind_class: "loading ? 'btn btn-loading' : 'btn btn-primary'",
                    x_on_click: 'loading = true' %>

                <%= link_to 'Edit', edit_member_path(member),
                    class: 'btn btn-primary',
                    x_data: '',
                    x_bind_disabled: 'loading',
                    x_bind_class: "loading ? 'btn btn-loading' : 'btn btn-primary'",
                    x_on_click: 'loading = true' %>
              </div>
            </div>
          </div>
        <% end %>

        <% if @members.empty? %>
          <div class="text-center py-12">
            <p class="text-gray-500 text-lg">No members found</p>
            <p class="text-gray-400 mt-2">Add your first member to get started</p>
          </div>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
